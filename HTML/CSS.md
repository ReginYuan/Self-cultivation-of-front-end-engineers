# CSS

## 盒模型

W3C盒模型：

IE盒模型：内容的宽高包括padding和border

### box-sizing

> 用来控制元素盒模型的解析模式，可更改盒模型的属性

- content-box：对应W3C盒模型（默认）
- border-box：对应IE盒模型

### display指定盒类型

```css
display: block/inline/inline-block/table/flexbox
```

## BFC

> 块格式化上下文，一个概念，决定元素的内容如何渲染以及与其他元素的关系和交互

BFC就类似于一个箱子，BFC中内容就相当于箱子中物品

- BFC内部元素不受外部元素影响（隔离作用）
- 一个元素只能存在于一个BFC中
- BFC内元素按标准流排列，元素间间隙由margin决定

### 创建BFC

满足下列条件之一

1. 根元素html
2. float属性不为none的浮动元素
3. position属性为absolute或fixd的定位元素
4. display属性为inline-block、table-cell、flex
5. overflow属性不为visible的块级元素

### BFC作用

> 清除浮动、解决外边距塌陷、宽度自适应两栏布局

1. **清除浮动**
   - 一个元素设置浮动后，浮动元素下面包含文字的元素都会变成环绕效果
   - 不包含文字的元素会与浮动元素重叠，浮动元素在其上面
   - 若一父元素未定义高度，其子元素设置浮动后，则不能再撑起父元素高度，父元素高度会塌陷（变为0）
2. **外边距合并（塌陷）**

###### 相邻块元素垂直外边距的合并

当上下相邻的两个块元素相遇时，如果上面的元素有下外边距margin-bottom，下面的元素有上外边距margin-top，则他们之间的垂直间距不是margin-bottom与margin-top之和，而是两者中的较大者。这种现象被称为相邻块元素垂直外边距的合并（也称外边距塌陷）。

<img src="media/外边据塌陷.png" />

解决方案：为第二个元素设置BFC

###### 嵌套块元素垂直外边距的合并

对于两个嵌套关系的块元素，如果父元素没有上内边距及边框，则父元素的上外边距会与子元素的上外边距发生合并，合并后的外边距为两者中的较大者，即使父元素的上外边距为0，也会发生合并。

<img src="media/n.png" />

解决方案：

1. 可以为父元素定义1像素的上边框或上内边距。
2. 可以为父元素添加overflow:hidden。

**3.宽度自适应两栏布局**

```html
<div style="width: 100px;height: 100px;float: left;"></div>
<div style="height: 100px; overflow: hidden;"></div>
```



## 浮动

CSS定位机制：普通流（标准流）、浮动、定位

> 浮动目的：为了让多个块级元素在同一行上显示

​	设置了浮动属性的元素会脱离标准文档流的控制（**不再占用位置**，原位置被标准流元素顶上占用其位置，跑到浮动元素下面，而浮动元素覆盖在其上面），移动到其父元素相应的位置（找离它最近的父级元素对齐，但是**不会超出内边距**的范围）。

**浮动特性**

- 脱离标准流（脱标，但不是完全意义上的脱标，浮动盒子内**文字图片依然会保持标准流**布局），不占位置，影响其下面的标准流（覆盖），只有左右浮动）
- 可以让元素默认转换为**行内块**元素
- 当给行内元素设置浮动属性时，对该行内元素设置宽高而不进行块级转换依然可以使其宽高属性生效。

## 内容生成

> 在::before、::after伪元素选择器中通过content属性来生成内容

### 生成内容

1. **普通文本**

定义字符串或16进制Unicode编码过的字符（自定义字体），可在元素内容中显示

```html
div::after{
	content:"自定义内容";
}
<div></div>
```

2. **可替换文本**

```html
p{
	quotes: "嘻嘻" "嘿嘿";
}
p::before{
	content: open-quote;
}				
p::after{
	content: close-quote;
}
<p>哈哈</p>

效果：嘻嘻哈哈嘿嘿
```

### 创建计数器

1. counter-reset: 计数器名称 初始值(默认0)

2. counter-increment: 计数器名称 增量(默认1)

3. 显示计数器：content: counter(计数器名，list-style-type值(默认decimal)) "自定义序号"

   ​									或counters()

```html
<style>
ul{
	counter-reset: digit 0;
}
ul>li::before{
	counter-increment: digit 1;
	content: counter(digit) "@";
}
</style>
<ul>
	<li>HTML</li>
	<li>CSS</li>
	<li>Javascript</li>
</ul>
```

### 引用属性值和图像



## 层叠

层叠是一个处理样式表的过程，先合并不同源的CSS规则，再通过特殊算法，得出最终的样式，应用到选择的元素

层叠依赖5个方面：来源，重要性，特殊性，继承，次序

1.**来源**

- 用户代理：访问网站所用的设备（即浏览器），用户代理样式就是浏览器的默认样式（p的默认上下外边距，a默认下划线）。通常所说的重置样式就是重置用户代理样式。
- 用户样式：浏览器的特殊设置，如视力不好的人将网页中的字体放大
- 作者样式：开发人员编写的CSS代码